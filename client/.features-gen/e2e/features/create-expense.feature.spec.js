
import { test } from "playwright-bdd";

test.describe('Create Expense', () => {

  test.beforeEach('Background', async ({ Given, page }, testInfo) => { if (testInfo.error) return;
    await Given('I am on the create expense page', null, { page }); 
  });
  
  test('Display create expense form elements', async ({ Then, And, page }) => { 
    await Then('I should see the title "New Expense"', null, { page }); 
    await And('I should see the group indicator "Roommates"', null, { page }); 
    await And('I should see the description input field', null, { page }); 
    await And('I should see the amount input field', null, { page }); 
    await And('I should see "Paid by" label', null, { page }); 
    await And('I should see the payer options', null, { page }); 
    await And('I should see the Add Expense button', null, { page }); 
  });

  test('Add Expense button is disabled when form is empty', async ({ Then, page }) => { 
    await Then('the Add Expense button should be disabled', null, { page }); 
  });

  test('Add Expense button is disabled without description', async ({ When, Then, page }) => { 
    await When('I enter "50" in the amount field', null, { page }); 
    await Then('the Add Expense button should be disabled', null, { page }); 
  });

  test('Add Expense button is disabled without amount', async ({ When, Then, page }) => { 
    await When('I enter "Groceries" in the description field', null, { page }); 
    await Then('the Add Expense button should be disabled', null, { page }); 
  });

  test('Add Expense button is enabled with valid data', async ({ When, Then, And, page }) => { 
    await When('I enter "Groceries" in the description field', null, { page }); 
    await And('I enter "50" in the amount field', null, { page }); 
    await Then('the Add Expense button should be enabled', null, { page }); 
  });

  test('Select a different payer', async ({ When, Then, page }) => { 
    await When('I click on payer "John"', null, { page }); 
    await Then('the payer "John" should be active', null, { page }); 
  });

  test('Display split type selector', async ({ Then, And, page }) => { 
    await Then('I should see the split type selector', null, { page }); 
    await And('split type "Equal" should be active', null, { page }); 
  });

  test('Select Exact split type', async ({ When, Then, And, page }) => { 
    await When('I click on split type "Exact"', null, { page }); 
    await Then('split type "Exact" should be active', null, { page }); 
    await And('I should see exact amount inputs for each participant', null, { page }); 
  });

  test('Select Percentage split type', async ({ When, Then, And, page }) => { 
    await When('I click on split type "%"', null, { page }); 
    await Then('split type "%" should be active', null, { page }); 
    await And('I should see percentage inputs for each participant', null, { page }); 
  });

  test('Select Shares split type', async ({ When, Then, And, page }) => { 
    await When('I click on split type "Shares"', null, { page }); 
    await Then('split type "Shares" should be active', null, { page }); 
    await And('I should see shares inputs for each participant', null, { page }); 
  });

  test('Validate exact amounts must sum to total', async ({ When, Then, And, page }) => { 
    await When('I enter "Dinner" in the description field', null, { page }); 
    await And('I enter "100" in the amount field', null, { page }); 
    await And('I click on split type "Exact"', null, { page }); 
    await And('I enter "30" in exact amount for "John"', null, { page }); 
    await And('I enter "30" in exact amount for "Jane"', null, { page }); 
    await Then('the Add Expense button should be disabled', null, { page }); 
    await And('I should see "Total:" message', null, { page }); 
  });

  test('Enable button when exact amounts match total', async ({ When, Then, And, page }) => { 
    await When('I enter "Dinner" in the description field', null, { page }); 
    await And('I enter "100" in the amount field', null, { page }); 
    await And('I click on split type "Exact"', null, { page }); 
    await And('I enter "60" in exact amount for "John"', null, { page }); 
    await And('I enter "40" in exact amount for "Jane"', null, { page }); 
    await Then('the Add Expense button should be enabled', null, { page }); 
  });

  test('Validate percentages must sum to 100', async ({ When, Then, And, page }) => { 
    await When('I enter "Rent" in the description field', null, { page }); 
    await And('I enter "500" in the amount field', null, { page }); 
    await And('I click on split type "%"', null, { page }); 
    await And('I enter "60" in percentage for "John"', null, { page }); 
    await And('I enter "30" in percentage for "Jane"', null, { page }); 
    await Then('the Add Expense button should be disabled', null, { page }); 
    await And('I should see "Total: 90% / 100%" message', null, { page }); 
  });

  test('Enable button when percentages total 100', async ({ When, Then, And, page }) => { 
    await When('I enter "Rent" in the description field', null, { page }); 
    await And('I enter "500" in the amount field', null, { page }); 
    await And('I click on split type "%"', null, { page }); 
    await And('I enter "60" in percentage for "John"', null, { page }); 
    await And('I enter "40" in percentage for "Jane"', null, { page }); 
    await Then('the Add Expense button should be enabled', null, { page }); 
  });

  test('Shares split calculates proportionally', async ({ When, Then, And, page }) => { 
    await When('I enter "Utilities" in the description field', null, { page }); 
    await And('I enter "90" in the amount field', null, { page }); 
    await And('I click on split type "Shares"', null, { page }); 
    await And('I enter "2" in shares for "John"', null, { page }); 
    await And('I enter "1" in shares for "Jane"', null, { page }); 
    await Then('I should see "€60.00" calculated for "John"', null, { page }); 
    await And('I should see "€30.00" calculated for "Jane"', null, { page }); 
  });

  test('Split evenly button for exact amounts', async ({ When, Then, And, page }) => { 
    await When('I enter "100" in the amount field', null, { page }); 
    await And('I click on split type "Exact"', null, { page }); 
    await And('I click the Split Evenly button for exact', null, { page }); 
    await Then('I should see "50.00" in exact amount for "John"', null, { page }); 
    await And('I should see "50.00" in exact amount for "Jane"', null, { page }); 
  });

});

test.use({
  $test: [({}, use) => use(test), { scope: 'test', box: true }],
  $uri: [({}, use) => use('e2e/features/create-expense.feature'), { scope: 'test', box: true }],
  $bddFileData: [({}, use) => use(bddFileData), { scope: "test", box: true }],
});

const bddFileData = [ 
  {"pwTestLine":10,"pickleLine":9,"tags":[],"steps":[{"pwStepLine":7,"gherkinStepLine":7,"keywordType":"Context","textWithKeyword":"Given I am on the create expense page","isBg":true,"stepMatchArguments":[]},{"pwStepLine":11,"gherkinStepLine":10,"keywordType":"Outcome","textWithKeyword":"Then I should see the title \"New Expense\"","stepMatchArguments":[{"group":{"start":23,"value":"\"New Expense\"","children":[{"start":24,"value":"New Expense","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":12,"gherkinStepLine":11,"keywordType":"Outcome","textWithKeyword":"And I should see the group indicator \"Roommates\"","stepMatchArguments":[{"group":{"start":33,"value":"\"Roommates\"","children":[{"start":34,"value":"Roommates","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":13,"gherkinStepLine":12,"keywordType":"Outcome","textWithKeyword":"And I should see the description input field","stepMatchArguments":[]},{"pwStepLine":14,"gherkinStepLine":13,"keywordType":"Outcome","textWithKeyword":"And I should see the amount input field","stepMatchArguments":[]},{"pwStepLine":15,"gherkinStepLine":14,"keywordType":"Outcome","textWithKeyword":"And I should see \"Paid by\" label","stepMatchArguments":[{"group":{"start":13,"value":"\"Paid by\"","children":[{"start":14,"value":"Paid by","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":16,"gherkinStepLine":15,"keywordType":"Outcome","textWithKeyword":"And I should see the payer options","stepMatchArguments":[]},{"pwStepLine":17,"gherkinStepLine":16,"keywordType":"Outcome","textWithKeyword":"And I should see the Add Expense button","stepMatchArguments":[]}]},
  {"pwTestLine":20,"pickleLine":18,"tags":[],"steps":[{"pwStepLine":7,"gherkinStepLine":7,"keywordType":"Context","textWithKeyword":"Given I am on the create expense page","isBg":true,"stepMatchArguments":[]},{"pwStepLine":21,"gherkinStepLine":19,"keywordType":"Outcome","textWithKeyword":"Then the Add Expense button should be disabled","stepMatchArguments":[]}]},
  {"pwTestLine":24,"pickleLine":21,"tags":[],"steps":[{"pwStepLine":7,"gherkinStepLine":7,"keywordType":"Context","textWithKeyword":"Given I am on the create expense page","isBg":true,"stepMatchArguments":[]},{"pwStepLine":25,"gherkinStepLine":22,"keywordType":"Action","textWithKeyword":"When I enter \"50\" in the amount field","stepMatchArguments":[{"group":{"start":8,"value":"\"50\"","children":[{"start":9,"value":"50","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":26,"gherkinStepLine":23,"keywordType":"Outcome","textWithKeyword":"Then the Add Expense button should be disabled","stepMatchArguments":[]}]},
  {"pwTestLine":29,"pickleLine":25,"tags":[],"steps":[{"pwStepLine":7,"gherkinStepLine":7,"keywordType":"Context","textWithKeyword":"Given I am on the create expense page","isBg":true,"stepMatchArguments":[]},{"pwStepLine":30,"gherkinStepLine":26,"keywordType":"Action","textWithKeyword":"When I enter \"Groceries\" in the description field","stepMatchArguments":[{"group":{"start":8,"value":"\"Groceries\"","children":[{"start":9,"value":"Groceries","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":31,"gherkinStepLine":27,"keywordType":"Outcome","textWithKeyword":"Then the Add Expense button should be disabled","stepMatchArguments":[]}]},
  {"pwTestLine":34,"pickleLine":29,"tags":[],"steps":[{"pwStepLine":7,"gherkinStepLine":7,"keywordType":"Context","textWithKeyword":"Given I am on the create expense page","isBg":true,"stepMatchArguments":[]},{"pwStepLine":35,"gherkinStepLine":30,"keywordType":"Action","textWithKeyword":"When I enter \"Groceries\" in the description field","stepMatchArguments":[{"group":{"start":8,"value":"\"Groceries\"","children":[{"start":9,"value":"Groceries","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":36,"gherkinStepLine":31,"keywordType":"Action","textWithKeyword":"And I enter \"50\" in the amount field","stepMatchArguments":[{"group":{"start":8,"value":"\"50\"","children":[{"start":9,"value":"50","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":37,"gherkinStepLine":32,"keywordType":"Outcome","textWithKeyword":"Then the Add Expense button should be enabled","stepMatchArguments":[]}]},
  {"pwTestLine":40,"pickleLine":34,"tags":[],"steps":[{"pwStepLine":7,"gherkinStepLine":7,"keywordType":"Context","textWithKeyword":"Given I am on the create expense page","isBg":true,"stepMatchArguments":[]},{"pwStepLine":41,"gherkinStepLine":35,"keywordType":"Action","textWithKeyword":"When I click on payer \"John\"","stepMatchArguments":[{"group":{"start":17,"value":"\"John\"","children":[{"start":18,"value":"John","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":42,"gherkinStepLine":36,"keywordType":"Outcome","textWithKeyword":"Then the payer \"John\" should be active","stepMatchArguments":[{"group":{"start":10,"value":"\"John\"","children":[{"start":11,"value":"John","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]}]},
  {"pwTestLine":45,"pickleLine":58,"tags":[],"steps":[{"pwStepLine":7,"gherkinStepLine":7,"keywordType":"Context","textWithKeyword":"Given I am on the create expense page","isBg":true,"stepMatchArguments":[]},{"pwStepLine":46,"gherkinStepLine":59,"keywordType":"Outcome","textWithKeyword":"Then I should see the split type selector","stepMatchArguments":[]},{"pwStepLine":47,"gherkinStepLine":60,"keywordType":"Outcome","textWithKeyword":"And split type \"Equal\" should be active","stepMatchArguments":[{"group":{"start":11,"value":"\"Equal\"","children":[{"start":12,"value":"Equal","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]}]},
  {"pwTestLine":50,"pickleLine":62,"tags":[],"steps":[{"pwStepLine":7,"gherkinStepLine":7,"keywordType":"Context","textWithKeyword":"Given I am on the create expense page","isBg":true,"stepMatchArguments":[]},{"pwStepLine":51,"gherkinStepLine":63,"keywordType":"Action","textWithKeyword":"When I click on split type \"Exact\"","stepMatchArguments":[{"group":{"start":22,"value":"\"Exact\"","children":[{"start":23,"value":"Exact","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":52,"gherkinStepLine":64,"keywordType":"Outcome","textWithKeyword":"Then split type \"Exact\" should be active","stepMatchArguments":[{"group":{"start":11,"value":"\"Exact\"","children":[{"start":12,"value":"Exact","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":53,"gherkinStepLine":65,"keywordType":"Outcome","textWithKeyword":"And I should see exact amount inputs for each participant","stepMatchArguments":[]}]},
  {"pwTestLine":56,"pickleLine":67,"tags":[],"steps":[{"pwStepLine":7,"gherkinStepLine":7,"keywordType":"Context","textWithKeyword":"Given I am on the create expense page","isBg":true,"stepMatchArguments":[]},{"pwStepLine":57,"gherkinStepLine":68,"keywordType":"Action","textWithKeyword":"When I click on split type \"%\"","stepMatchArguments":[{"group":{"start":22,"value":"\"%\"","children":[{"start":23,"value":"%","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":58,"gherkinStepLine":69,"keywordType":"Outcome","textWithKeyword":"Then split type \"%\" should be active","stepMatchArguments":[{"group":{"start":11,"value":"\"%\"","children":[{"start":12,"value":"%","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":59,"gherkinStepLine":70,"keywordType":"Outcome","textWithKeyword":"And I should see percentage inputs for each participant","stepMatchArguments":[]}]},
  {"pwTestLine":62,"pickleLine":72,"tags":[],"steps":[{"pwStepLine":7,"gherkinStepLine":7,"keywordType":"Context","textWithKeyword":"Given I am on the create expense page","isBg":true,"stepMatchArguments":[]},{"pwStepLine":63,"gherkinStepLine":73,"keywordType":"Action","textWithKeyword":"When I click on split type \"Shares\"","stepMatchArguments":[{"group":{"start":22,"value":"\"Shares\"","children":[{"start":23,"value":"Shares","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":64,"gherkinStepLine":74,"keywordType":"Outcome","textWithKeyword":"Then split type \"Shares\" should be active","stepMatchArguments":[{"group":{"start":11,"value":"\"Shares\"","children":[{"start":12,"value":"Shares","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":65,"gherkinStepLine":75,"keywordType":"Outcome","textWithKeyword":"And I should see shares inputs for each participant","stepMatchArguments":[]}]},
  {"pwTestLine":68,"pickleLine":77,"tags":[],"steps":[{"pwStepLine":7,"gherkinStepLine":7,"keywordType":"Context","textWithKeyword":"Given I am on the create expense page","isBg":true,"stepMatchArguments":[]},{"pwStepLine":69,"gherkinStepLine":78,"keywordType":"Action","textWithKeyword":"When I enter \"Dinner\" in the description field","stepMatchArguments":[{"group":{"start":8,"value":"\"Dinner\"","children":[{"start":9,"value":"Dinner","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":70,"gherkinStepLine":79,"keywordType":"Action","textWithKeyword":"And I enter \"100\" in the amount field","stepMatchArguments":[{"group":{"start":8,"value":"\"100\"","children":[{"start":9,"value":"100","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":71,"gherkinStepLine":80,"keywordType":"Action","textWithKeyword":"And I click on split type \"Exact\"","stepMatchArguments":[{"group":{"start":22,"value":"\"Exact\"","children":[{"start":23,"value":"Exact","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":72,"gherkinStepLine":81,"keywordType":"Action","textWithKeyword":"And I enter \"30\" in exact amount for \"John\"","stepMatchArguments":[{"group":{"start":8,"value":"\"30\"","children":[{"start":9,"value":"30","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":33,"value":"\"John\"","children":[{"start":34,"value":"John","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":73,"gherkinStepLine":82,"keywordType":"Action","textWithKeyword":"And I enter \"30\" in exact amount for \"Jane\"","stepMatchArguments":[{"group":{"start":8,"value":"\"30\"","children":[{"start":9,"value":"30","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":33,"value":"\"Jane\"","children":[{"start":34,"value":"Jane","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":74,"gherkinStepLine":83,"keywordType":"Outcome","textWithKeyword":"Then the Add Expense button should be disabled","stepMatchArguments":[]},{"pwStepLine":75,"gherkinStepLine":84,"keywordType":"Outcome","textWithKeyword":"And I should see \"Total:\" message","stepMatchArguments":[{"group":{"start":13,"value":"\"Total:\"","children":[{"start":14,"value":"Total:","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]}]},
  {"pwTestLine":78,"pickleLine":86,"tags":[],"steps":[{"pwStepLine":7,"gherkinStepLine":7,"keywordType":"Context","textWithKeyword":"Given I am on the create expense page","isBg":true,"stepMatchArguments":[]},{"pwStepLine":79,"gherkinStepLine":87,"keywordType":"Action","textWithKeyword":"When I enter \"Dinner\" in the description field","stepMatchArguments":[{"group":{"start":8,"value":"\"Dinner\"","children":[{"start":9,"value":"Dinner","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":80,"gherkinStepLine":88,"keywordType":"Action","textWithKeyword":"And I enter \"100\" in the amount field","stepMatchArguments":[{"group":{"start":8,"value":"\"100\"","children":[{"start":9,"value":"100","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":81,"gherkinStepLine":89,"keywordType":"Action","textWithKeyword":"And I click on split type \"Exact\"","stepMatchArguments":[{"group":{"start":22,"value":"\"Exact\"","children":[{"start":23,"value":"Exact","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":82,"gherkinStepLine":90,"keywordType":"Action","textWithKeyword":"And I enter \"60\" in exact amount for \"John\"","stepMatchArguments":[{"group":{"start":8,"value":"\"60\"","children":[{"start":9,"value":"60","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":33,"value":"\"John\"","children":[{"start":34,"value":"John","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":83,"gherkinStepLine":91,"keywordType":"Action","textWithKeyword":"And I enter \"40\" in exact amount for \"Jane\"","stepMatchArguments":[{"group":{"start":8,"value":"\"40\"","children":[{"start":9,"value":"40","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":33,"value":"\"Jane\"","children":[{"start":34,"value":"Jane","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":84,"gherkinStepLine":92,"keywordType":"Outcome","textWithKeyword":"Then the Add Expense button should be enabled","stepMatchArguments":[]}]},
  {"pwTestLine":87,"pickleLine":94,"tags":[],"steps":[{"pwStepLine":7,"gherkinStepLine":7,"keywordType":"Context","textWithKeyword":"Given I am on the create expense page","isBg":true,"stepMatchArguments":[]},{"pwStepLine":88,"gherkinStepLine":95,"keywordType":"Action","textWithKeyword":"When I enter \"Rent\" in the description field","stepMatchArguments":[{"group":{"start":8,"value":"\"Rent\"","children":[{"start":9,"value":"Rent","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":89,"gherkinStepLine":96,"keywordType":"Action","textWithKeyword":"And I enter \"500\" in the amount field","stepMatchArguments":[{"group":{"start":8,"value":"\"500\"","children":[{"start":9,"value":"500","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":90,"gherkinStepLine":97,"keywordType":"Action","textWithKeyword":"And I click on split type \"%\"","stepMatchArguments":[{"group":{"start":22,"value":"\"%\"","children":[{"start":23,"value":"%","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":91,"gherkinStepLine":98,"keywordType":"Action","textWithKeyword":"And I enter \"60\" in percentage for \"John\"","stepMatchArguments":[{"group":{"start":8,"value":"\"60\"","children":[{"start":9,"value":"60","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":31,"value":"\"John\"","children":[{"start":32,"value":"John","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":92,"gherkinStepLine":99,"keywordType":"Action","textWithKeyword":"And I enter \"30\" in percentage for \"Jane\"","stepMatchArguments":[{"group":{"start":8,"value":"\"30\"","children":[{"start":9,"value":"30","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":31,"value":"\"Jane\"","children":[{"start":32,"value":"Jane","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":93,"gherkinStepLine":100,"keywordType":"Outcome","textWithKeyword":"Then the Add Expense button should be disabled","stepMatchArguments":[]},{"pwStepLine":94,"gherkinStepLine":101,"keywordType":"Outcome","textWithKeyword":"And I should see \"Total: 90% / 100%\" message","stepMatchArguments":[{"group":{"start":13,"value":"\"Total: 90% / 100%\"","children":[{"start":14,"value":"Total: 90% / 100%","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]}]},
  {"pwTestLine":97,"pickleLine":103,"tags":[],"steps":[{"pwStepLine":7,"gherkinStepLine":7,"keywordType":"Context","textWithKeyword":"Given I am on the create expense page","isBg":true,"stepMatchArguments":[]},{"pwStepLine":98,"gherkinStepLine":104,"keywordType":"Action","textWithKeyword":"When I enter \"Rent\" in the description field","stepMatchArguments":[{"group":{"start":8,"value":"\"Rent\"","children":[{"start":9,"value":"Rent","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":99,"gherkinStepLine":105,"keywordType":"Action","textWithKeyword":"And I enter \"500\" in the amount field","stepMatchArguments":[{"group":{"start":8,"value":"\"500\"","children":[{"start":9,"value":"500","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":100,"gherkinStepLine":106,"keywordType":"Action","textWithKeyword":"And I click on split type \"%\"","stepMatchArguments":[{"group":{"start":22,"value":"\"%\"","children":[{"start":23,"value":"%","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":101,"gherkinStepLine":107,"keywordType":"Action","textWithKeyword":"And I enter \"60\" in percentage for \"John\"","stepMatchArguments":[{"group":{"start":8,"value":"\"60\"","children":[{"start":9,"value":"60","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":31,"value":"\"John\"","children":[{"start":32,"value":"John","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":102,"gherkinStepLine":108,"keywordType":"Action","textWithKeyword":"And I enter \"40\" in percentage for \"Jane\"","stepMatchArguments":[{"group":{"start":8,"value":"\"40\"","children":[{"start":9,"value":"40","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":31,"value":"\"Jane\"","children":[{"start":32,"value":"Jane","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":103,"gherkinStepLine":109,"keywordType":"Outcome","textWithKeyword":"Then the Add Expense button should be enabled","stepMatchArguments":[]}]},
  {"pwTestLine":106,"pickleLine":111,"tags":[],"steps":[{"pwStepLine":7,"gherkinStepLine":7,"keywordType":"Context","textWithKeyword":"Given I am on the create expense page","isBg":true,"stepMatchArguments":[]},{"pwStepLine":107,"gherkinStepLine":112,"keywordType":"Action","textWithKeyword":"When I enter \"Utilities\" in the description field","stepMatchArguments":[{"group":{"start":8,"value":"\"Utilities\"","children":[{"start":9,"value":"Utilities","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":108,"gherkinStepLine":113,"keywordType":"Action","textWithKeyword":"And I enter \"90\" in the amount field","stepMatchArguments":[{"group":{"start":8,"value":"\"90\"","children":[{"start":9,"value":"90","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":109,"gherkinStepLine":114,"keywordType":"Action","textWithKeyword":"And I click on split type \"Shares\"","stepMatchArguments":[{"group":{"start":22,"value":"\"Shares\"","children":[{"start":23,"value":"Shares","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":110,"gherkinStepLine":115,"keywordType":"Action","textWithKeyword":"And I enter \"2\" in shares for \"John\"","stepMatchArguments":[{"group":{"start":8,"value":"\"2\"","children":[{"start":9,"value":"2","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":26,"value":"\"John\"","children":[{"start":27,"value":"John","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":111,"gherkinStepLine":116,"keywordType":"Action","textWithKeyword":"And I enter \"1\" in shares for \"Jane\"","stepMatchArguments":[{"group":{"start":8,"value":"\"1\"","children":[{"start":9,"value":"1","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":26,"value":"\"Jane\"","children":[{"start":27,"value":"Jane","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":112,"gherkinStepLine":117,"keywordType":"Outcome","textWithKeyword":"Then I should see \"€60.00\" calculated for \"John\"","stepMatchArguments":[{"group":{"start":13,"value":"\"€60.00\"","children":[{"start":14,"value":"€60.00","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":37,"value":"\"John\"","children":[{"start":38,"value":"John","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":113,"gherkinStepLine":118,"keywordType":"Outcome","textWithKeyword":"And I should see \"€30.00\" calculated for \"Jane\"","stepMatchArguments":[{"group":{"start":13,"value":"\"€30.00\"","children":[{"start":14,"value":"€30.00","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":37,"value":"\"Jane\"","children":[{"start":38,"value":"Jane","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]}]},
  {"pwTestLine":116,"pickleLine":120,"tags":[],"steps":[{"pwStepLine":7,"gherkinStepLine":7,"keywordType":"Context","textWithKeyword":"Given I am on the create expense page","isBg":true,"stepMatchArguments":[]},{"pwStepLine":117,"gherkinStepLine":121,"keywordType":"Action","textWithKeyword":"When I enter \"100\" in the amount field","stepMatchArguments":[{"group":{"start":8,"value":"\"100\"","children":[{"start":9,"value":"100","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":118,"gherkinStepLine":122,"keywordType":"Action","textWithKeyword":"And I click on split type \"Exact\"","stepMatchArguments":[{"group":{"start":22,"value":"\"Exact\"","children":[{"start":23,"value":"Exact","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":119,"gherkinStepLine":123,"keywordType":"Action","textWithKeyword":"And I click the Split Evenly button for exact","stepMatchArguments":[]},{"pwStepLine":120,"gherkinStepLine":124,"keywordType":"Outcome","textWithKeyword":"Then I should see \"50.00\" in exact amount for \"John\"","stepMatchArguments":[{"group":{"start":13,"value":"\"50.00\"","children":[{"start":14,"value":"50.00","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":41,"value":"\"John\"","children":[{"start":42,"value":"John","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":121,"gherkinStepLine":125,"keywordType":"Outcome","textWithKeyword":"And I should see \"50.00\" in exact amount for \"Jane\"","stepMatchArguments":[{"group":{"start":13,"value":"\"50.00\"","children":[{"start":14,"value":"50.00","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":41,"value":"\"Jane\"","children":[{"start":42,"value":"Jane","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]}]},
]; 